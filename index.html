<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Smart Expense Manager</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 500px;
      margin: 30px auto;
      background: #f9f9f9;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 0 15px rgba(0,0,0,0.1);
    }
    h1 {
      text-align: center;
      color: #333;
    }
    label {
      font-weight: bold;
      margin-top: 10px;
      display: block;
    }
    input[type="text"], input[type="number"] {
      width: 100%;
      padding: 8px;
      margin: 6px 0 12px 0;
      border: 1px solid #ccc;
      border-radius: 4px;
      box-sizing: border-box;
    }
    button {
      background-color: #28a745;
      color: white;
      padding: 10px 15px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      margin-top: 10px;
      width: 100%;
      font-size: 16px;
    }
    button:hover {
      background-color: #218838;
    }
    .expense-list {
      margin-top: 20px;
    }
    .expense-item {
      background: white;
      padding: 10px;
      margin-bottom: 8px;
      border-radius: 4px;
      display: flex;
      justify-content: space-between;
      box-shadow: 0 0 5px rgba(0,0,0,0.1);
    }
    .summary {
      margin-top: 20px;
      padding: 15px;
      background: #e9ecef;
      border-radius: 4px;
    }
    .warning {
      color: red;
      font-weight: bold;
      margin-top: 10px;
      text-align: center;
    }
  </style>
</head>
<body>
  <h1>Smart Expense Manager</h1>

  <label for="target">Set Saving Target ($):</label>
  <input type="number" id="target" min="0" placeholder="Enter your saving target" />

  <label for="desc">Expense Description:</label>
  <input type="text" id="desc" placeholder="e.g., Groceries" />

  <label for="amount">Expense Amount ($):</label>
  <input type="number" id="amount" min="0" step="0.01" placeholder="e.g., 25.50" />

  <button id="addExpenseBtn">Add Expense</button>

  <div class="expense-list" id="expenseList"></div>

  <div class="summary" id="summary">
    <p><strong>Total Expenses:</strong> $0.00</p>
    <p><strong>Remaining Budget:</strong> $0.00</p>
  </div>

  <div class="warning" id="warningMsg"></div>

  <script>
    const targetInput = document.getElementById('target');
    const descInput = document.getElementById('desc');
    const amountInput = document.getElementById('amount');
    const addExpenseBtn = document.getElementById('addExpenseBtn');
    const expenseList = document.getElementById('expenseList');
    const summary = document.getElementById('summary');
    const warningMsg = document.getElementById('warningMsg');

    let expenses = [];
    let savingTarget = 0;

    targetInput.addEventListener('change', () => {
      const val = parseFloat(targetInput.value);
      if (isNaN(val) || val < 0) {
        alert('Please enter a valid saving target (0 or more).');
        targetInput.value = '';
        savingTarget = 0;
      } else {
        savingTarget = val;
        updateSummary();
        warningMsg.textContent = '';
      }
    });

    addExpenseBtn.addEventListener('click', () => {
      const desc = descInput.value.trim();
      const amount = parseFloat(amountInput.value);

      if (!desc) {
        alert('Please enter an expense description.');
        return;
      }
      if (isNaN(amount) || amount <= 0) {
        alert('Please enter a valid expense amount greater than zero.');
        return;
      }
      if (savingTarget === 0) {
        alert('Please set a saving target first.');
        return;
      }

      expenses.push({ desc, amount });
      descInput.value = '';
      amountInput.value = '';
      renderExpenses();
      updateSummary();
    });

    function renderExpenses() {
      expenseList.innerHTML = '';
      expenses.forEach((exp, idx) => {
        const div = document.createElement('div');
        div.className = 'expense-item';
        div.innerHTML = `
          <span>${exp.desc}</span>
          <span>$${exp.amount.toFixed(2)}</span>
          <button onclick="removeExpense(${idx})" style="background:#dc3545; border:none; color:white; border-radius:4px; cursor:pointer;">Delete</button>
        `;
        expenseList.appendChild(div);
      });
    }

    function removeExpense(index) {
      expenses.splice(index, 1);
      renderExpenses();
      updateSummary();
    }

    window.removeExpense = removeExpense; // Expose for inline onclick

    function updateSummary() {
      const totalExpenses = expenses.reduce((acc, curr) => acc + curr.amount, 0);
      const remaining = savingTarget - totalExpenses;

      summary.innerHTML = `
        <p><strong>Total Expenses:</strong> $${totalExpenses.toFixed(2)}</p>
        <p><strong>Remaining Budget:</strong> $${remaining.toFixed(2)}</p>
      `;

      if (remaining < 0) {
        warningMsg.textContent = 'Warning: You have exceeded your saving target!';
      } else if (remaining === 0) {
        warningMsg.textContent = 'Great! You have exactly met your saving target.';
      } else {
        warningMsg.textContent = '';
      }
    }
  </script>
</body>
</html>
